<!--
@license
Copyright Â© 2015-2021 Shenzhen Weixun All rights reserved.
-->

<link rel="import" href="../../polymer/polymer-element.html" />

<link rel="import" href="../../vaadin-valo-theme/vaadin-grid.html" />
<link rel="import" href="../../vaadin-grid/vaadin-grid.html" />
<link rel="import" href="../things-sys/sys-ajax.html" />

<dom-module id="things-data-grid">
  <template>
    <style></style>

    <!-- TODO -->
    <sys-ajax handle-as="json" last-response="{{users}}"> </sys-ajax>

    <!-- The array is set as the <vaadin-grid>'s "items" property -->
    <vaadin-grid aria-label="Basic Binding Example" items="[[users.result]]">
      <vaadin-grid-column width="50px" flex-grow="0">
        <template class="header">#</template>
        <template>[[index]]</template>
        <!-- If necessary, the footer could be set using <template class="footer"> -->
        <template class="footer">#</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">
          <span draggable="true"> First Name </span>
        </template>
        <template>
          <span draggable="true"> [[item.firstName]] </span>
        </template>
        <template class="footer">First Name</template>
      </vaadin-grid-column>

      <vaadin-grid-column>
        <template class="header">Last Name</template>
        <template>[[item.lastName]]</template>
        <template class="footer">Last Name</template>
      </vaadin-grid-column>

      <vaadin-grid-column width="150px">
        <template class="header">Address</template>
        <template>
          <p style="white-space: normal">[[item.address.street]], [[item.address.city]]</p>
        </template>
        <template class="footer">Address</template>
      </vaadin-grid-column>
    </vaadin-grid>
  </template>

  <script>
    class ThingsDataGrid extends Polymer.Element {
      static get is() {
        return "things-data-grid";
      }

      static get properties() {
        return {};
      }

      connectedCallback() {
        super.connectedCallback();
      }
    }

    customElements.define(ThingsDataGrid.is, ThingsDataGrid);
  </script>
</dom-module>
